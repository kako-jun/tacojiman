# tacojiman（タコジマン）プロジェクト

> 📋 **開発タスク管理**: [.claude/tasks.md](.claude/tasks.md) で進捗を確認

## プロジェクト概要
**蛸島駅近辺を舞台にした極端系リトライゲーム**
- 「蛸島は良いところ」という自慢 + 蛸島を守るヒーロー「タコジマン」をかけたタイトル
- フラッピーバード級の難度とクソゲー要素でバズりを狙う
- 毎朝迎えに来る幼馴染を布団の中から撃退するゲーム
- エンディングで感動の真相が明かされる

## 🎯 プロジェクトビジョン
**All Your Wake Are Belong To Us!**
- ロゴ：All Your Wake Are Belong To Us! (AYWABTU)
- ハッシュタグ：#WakeUs #AYWABTU
- ファンの呼び方：「WakeUs勢」「WakeUs民」

### 配布戦略
- 初期配布：itch.io（無料 or 投げ銭）＋Steam（有料 or セール）
- 拡散施策：SNSで「WakeUsチャレンジ」タグ、実況者配信依頼
- 収益化：Steam正式版販売、モバイル版広告収益

## 🎮 ゲームコンセプト

### 基本設定
- **タイトル**: 「起こしに来た幼馴染が多すぎる」（仮）
- **ジャンル**: ワンボタンアクション × 理不尽ゲー
- **プレイ時間**: 固定3分/回（スコアアタック型）
- **舞台**: プレイヤーの家（玄関→廊下→部屋）

### キャラクター設定
- **プレイヤー**: 蜂の忍術使いの末裔（布団の中からのみ攻撃可能）
- **幼馴染**: ルッカのような天才発明家少女、目から上が見えない、ひたすら元気
- **敵**: タコ型ロボット軍団（幼馴染が作った自律機器）

### ゲーム性
- **操作**: 画面タップのみ（ボタンなし）
- **基本ルール**: 蜂のように「2回刺す」で撃退成功
- **難易度**: フラッピーバード級の激ムズ
- **特徴**: 1回刺すと敵が加速する（理不尽要素）
- **コアメカニクス**: ズームイン → 連続タップ攻撃 → ズームアウトのサイクル
- **ターゲットシーン**: つり革につかまりながら片手でプレイ、音量ゼロ

### 早朝時刻設定 & ゲーム時間
- **開始時刻**: 4:00〜8:00の間でランダム決定
- **目標時間**: 開始から30分粘れば勝利（ゲーム内時間）
- **現実プレイ時間**: 固定3分間（電車の駅間でプレイ可能）
- **勝利条件**: 30分粘ることではなく、3分間で稼いだスコアが勝負
- **最終ボス戦**: 残り10秒でタココング出現

### 時刻表示UI仕様
- **表示位置**: 画面左上角に固定表示
- **表示形式**: 朝の番組風デジタル時計（例：6:23 AM）
- **フォント**: デジタル時計風のモノスペースフォント
- **色彩**: 白文字に黒縁取り（背景に関係なく視認性確保）
- **アニメーション**: 毎分変わる時に軽いフェードインアウト

### スコアシステム
- **撃退スコア**: タコロボを撃退するごとにポイント獲得
- **連続ボーナス**: 短時間で連続撃退すると倍率アップ
- **特殊技ボーナス**: ボム忍術やビーム忍術で高スコア
- **時間ボーナス**: 早朝時刻によって難易度が変化（早いほど高スコア）

## 🧠 ブレインストーミング記録

### 採用されたアイデア
- [x] 毎朝迎えに来る幼馴染を撃退するゲーム
- [x] 蜂のように2回刺すルール
- [x] フラッピーバード級の1クリック操作
- [x] 科学（タコ型ロボット） vs 忍術（蜂忍術）の構図
- [x] 目から上を隠してエンディングまで顔を見せない
- [x] 理不尽で笑える極端な演出
- [x] F-ZERO風の常時回転背景
- [x] 4つの侵入ルート（海・道路・空・地下）
- [x] 全体攻撃でも1撃では倒れない仕様
- [x] 能登半島風地形マスのランダム生成
- [x] チクタクバンバン風の道路接続システム
- [x] 回転方向・速度のランダム化（ガチャ要素）
- [x] 主人公の家中心の見下ろし型2Dビュー
- [x] FF5風の美しい演出エフェクト（当たり判定なし）
- [x] 蛸島駅周辺の緑豊かな田舎風景
- [x] 早朝4～8時のランダム開始時刻
- [x] 3分間固定のスコアアタックゲーム
- [x] NostalgicアプリAPI連携ランキングシステム
- [x] 朝の番組風デジタル時計表示（左上）
- [x] スマブラ・スト6風ヒットストップエフェクト
- [x] 段階的ヒット感（通常→連続→撃破）
- [x] タップのみのシンプル操作（ボタンなし）
- [x] ズームイン/アウトでの戦略的カメラワーク
- [x] 連続タップ攻撃での密集敵一掃システム
- [x] BGMなし、蛸島の自然音のみの穏やかな音響設計
- [x] 電車内での片手・無音プレイを前提とした設計
- [x] スマホ横持ち非対応（縦持ち固定）
- [x] ズームを使わないと不利になる戦略的難易度設計
- [x] 敵の密集度と脅威判断を核としたゲーム性
- [x] スコア連動エンディングシステム（ツンデレ進行）
- [x] 自動ランキング投稿（IPベース自動名前生成）

### ボツになったアイデア
- [ ] ~~タワーディフェンス要素~~（操作が複雑化）
- [ ] ~~死者設定（兄の代わり）~~（重すぎる）
- [ ] ~~通学路での移動~~（実装が大変）
- [ ] ~~日本のJS投稿サイト~~（収益性が低い）

### 検討中の要素
- [ ] チープな見た目 vs 美麗演出のバランス
- [ ] 極端な理不尽要素の種類・程度
- [ ] エンディングの感動要素詳細
- [ ] **主人公被ダメージシステム**（以下3選択肢で検討中）

### 主人公被ダメージシステムの選択肢
| システム | メリット | デメリット | ゲーム性への影響 |
|---------|-------|---------|-------------|
| **ゲームオーバーあり** | フラッピーバード級の緊張感 | ありきたり、短時間で終了リスク | 難易度高、集中力必要 |
| **HP制** | バランスが良い、一般的 | ありきたり、新鮮味なし | 中程度の難易度 |
| **スコア減点のみ** | 必ず3分間楽しめる、ストレスフリー | 緊張感不足、物足りなさ | カジュアル向け |

### 各システムの特徴詳細
#### ゲームオーバーありシステム
- 敵に触れると即座ゲームオーバー
- フラッピーバード的な緊張感と集中力
- スコアアタックではなく生存時間がメイン指標

#### スコア減点システム
- 敵に触れてもゲーム続行、スコアが減点されるのみ
- 必ず3分間プレイできる安心感
- 電車内でのカジュアルプレイに最適
- スコアアタックとエンディングの多様性を維持 

## 🎨 ゲーム詳細仕様

### タップ操作システム
| 操作 | カメラ動作 | 攻撃効果 | 戦略的意義 |
|------|----------|----------|----------|
| 短タップ | なし | タップ位置の敵に蜂忍術飛行 | 精密狙撃、単体撃破 |
| 長タップ中 | タップ位置中心にズームイン | なし | 敵の密集地域を確認 |
| 長タップ継続中の連続タップ | ズーム中のまま | タップ位置に連続攻撃 | 密集地域の敵を一掃 |
| 長タップ離す | 家中心にズームアウトパン | なし | 全体状況を再確認 |

### 戦略的ズームシステム & 難易度設計
- **攻撃範囲**: タップ位置中心の固定円形範囲（ズームで広がらない）
- **ズームなし攻撃**: 可能だが微調整が不可能で不利
- **ズーム攻撃**: 精密な狙いと連続攻撃が可能で有利
- **難易度調整**: ズームを使わないと勝てないバランス

### 敵優先度判断ゲーム性
- **全体俯瞰**: どこに敵が集まっているかを瞬時に把握
- **脅威判断**: どの敵が家にたどり着きそうかを予測
- **ズーム範囲選択**: どの範囲をどの程度ズームするかの戦略選択
- **連打速度調整**: 敏速性と精度のバランスを状況に応じて調整
- **タイムマネジメント**: 3分間で最大スコアを狙う時間配分

### 電車内プレイ仕様
- **想定シーン**: つり革につかまりながら駅間（3分）でプレイ
- **片手操作**: つり革を持ったまま、反対の手でスマホを操作
- **無音プレイ**: イヤホンなし、音量ゼロでも完全に楽しめる
- **振動なし**: 電車内でのマナーを考慮した設計

### 音響設計 & 自然音
- **BGM**: なし（無音プレイ前提）
- **環境音**: 蛸島の朝の自然音（オプション）
  - 鳥のさえずり（ランダムな間隔）
  - 風の音（穏やかな風切り音）
  - 海の音（遠くの波音）
  - 川の流れる音
- **攻撃音**: 短く小さいSE（オフ可能）
- **基本的に無音**: 音がなくても完全にゲームを楽しめる設計

### タコ型ロボットの種類 & HPシステム
| 名前 | HP | 色デザイン | 侵入ルート | 行動パターン | 強さ | スコア |
|------|----|-----------| ----------|----------|------|--------|
| 道路歩行型（地上タコ） | 2/1 | 赤/ピンク+白框 | 道路に沿って歩行 | 地上を規則正しく進軍 | 弱 | 1 |
| 海上遡上型（水タコ） | 2/1 | 赤/ピンク+白框 | 海から川を遡上 | 一列縦隊で接近 | 中弱 | 2 |
| 空挺降下型（空タコ） | 2/1 | 赤/ピンク+白框 | 空からパラシュート降下 | ランダムな着地地点 | 中強 | 3 |
| 地下掘削型（地下タコ） | 2/1 | 赤/ピンク+白框 | 穴を掘って地下から出現 | 主人公の家近くに突然出現 | 強 | 4 |
| タココング（幼馴染搭乗機） | 42 | 黒+紫+白框 | 画面中央に出現 | 高速で家に直進 | 最強 | 10 |

### アクセシビリティ配慮デザイン
- **HP2タコ**: 赤色 + 白い框線（マリオブラザーズのカニ参考）
- **HP1タコ**: ピンク色 + 白い框線（弱った状態を表現）
- **色弱対応**: 赤とピンクは色覚異常者にも判別しやすい組み合わせ
- **背景対策**: 緑の田園風景に対して白框で視認性確保
- **サイズ差**: HP2はやや大きめ、HP1はやや小さめで追加の判別要素

### スコア連動エンディングシステム
| スコア範囲 | エンディングレベル | 幼馴染の反応 | 明かされる真実 |
|----------|-------------|-------------|-------------|
| 0-1000 | バッドエンド | 「もう来ない…」と去っていく | 本当の理由は不明 |
| 1001-3000 | ノーマルエンド | 「今日は大事な日だったのに…」 | テストや特別な日であったことが判明 |
| 3001-5000 | グッドエンド | 目元が初めて見え、涙を浮かべる | 実は心配してくれていたことが判明 |
| 5001-8000 | スペシャルエンド | 「本当は…好きだったの」と告白 | ツンデレの本心が明かされる |
| 8001+ | 真エンディング | 顔全体が見え、真の笑顔 | 全ての真実と未来への約束 |

### ツンデレ進行システム
- **段階的開示**: スコアが高いほど幼馴染の本心に近づく
- **リプレイ性**: より高いスコアで新しい真実を知りたくなる
- **情緒的報酬**: スコアと感動が直結するユニークな体験
- **コレクション要素**: 全エンディングを見たくなる動機

## 🎨 アセット仕様 & ビジュアルデザイン

### SFC風ドット絵仕様
- **解像度**: スーパーファミコン程度の粗いドット絵
- **色数制限**: 1スプライトあたり16色程度に制限
- **ピクセル感**: 意図的にジャギーを残した懐かしいドット感
- **アンチエイリアス**: 基本的に使用せず、シャープなピクセル境界

### 洗練された色彩設計
- **朝焼け時間帯**: 全体の色温度を下げて暖かいオレンジ・ピンク系統
- **コントラスト**: 派手すぎず、現代的に洗練されたトーン
- **彩度調整**: SFCの原色的な派手さを避け、少し彩度を落とした上品な色合い
- **グラデーション**: ドット絵でありながら、微細なグラデーションで立体感

### 懐かしさ×最新の融合
- **ドット絵**: SFC風の粗いピクセル感で懐かしさを演出
- **色彩理論**: 現代的な色温度調整と彩度コントロール
- **ライティング**: 朝の時間帯に応じた自然な光の表現
- **質感**: ドット絵でありながら、素材感を感じる色使い

### 開発段階の仮アセット
| アセット種類 | 仮アセット形式 | 最終アセット形式 | 備考 |
|----------|-------------|-------------|------|
| 背景地形 | 白黒ワイヤーフレーム | SFC風ドット絵WebP | 海、川、田んぼ、畑、道路、駅など |
| タコ型ロボット | 白黒簡素シェイプ | SFC風ドット絵WebP | 4種類の異なるデザイン |
| プレイヤーの家 | 白黒矩形ボックス | SFC風ドット絵WebP | 日本の田舎風民家 |
| 蜂忍術エフェクト | 白黒円形/直線 | 現代的エフェクトWebP | ボム、ビーム、刺し攻撃 |
| FF5風演出 | 簡素な白黒シェイプ | SFC風ドット絵WebP | 雲の影、鳥、雨、水面など |
| UI要素 | シンプルな白黒ボタン | 洗練されたWebPアイコン | スコア、ランキング、設定など |

### ワイヤーフレーム描画方針
- **地形マス**: 異なる灰色の矩形で区別（海=濃い灰、田=淡い灰など）
- **タコロボ**: シンプルな円形または多角形で種類別にサイズ変更
- **攻撃エフェクト**: 点滅する円形（ボム）、直線（ビーム）、小円（通常攻撃）
- **プレイヤー家**: 中央の小さな固定矩形

### アセット移行計画
1. **プロトタイプ段階**: 白黒ワイヤーフレームでゲームロジック完成
2. **アルファ段階**: 背景と主要キャラクターをWebP化
3. **ベータ段階**: エフェクト、UI、演出系をWebP化
4. **リリース段階**: 全アセットを最終品質にWebP化

## 🚀 技術スタック・方針

### 使用予定技術
- **ゲームエンジン**: Phaser 4 (TypeScript)
- **描画**: Phaser単体（最大50匹同時表示対応）
- **パフォーマンス**: 画面同時表示タコ上限50匹で60fps維持
- **アセット形式**: 開発時はCanvas描画、最終版はWebP
- **収益化**: インタースティシャル広告（AdinPlayなど）
- **配布**: itch.io + Steam
- **開発環境**: TypeScript + Node.js

### 設計方針
- **科学 vs 忍術の構図**: 幼馴染（タコ型ロボット軍団）vs プレイヤー（蜂忍術）
- **ワンボタン制約**: タップ・長押し・離すのみで全操作
- **マップ生成システム**: 能登半島風地形マスのランダム配置
- **回転システム**: F-ZERO風チープスプライト回転 + ガチャ要素
- **高リトライ性**: 1〜2分で完結、即座に再挑戦可能
- **理不尽だが公平**: 難しいが運ゲーではない、技術で上達可能

### 制約・前提条件
- スマホ・ブラウザ両対応必須
- 1クリック操作で直感的プレイ
- 広告表示タイミングの最適化（ゲームオーバー時）
- 実況・配信映えする演出
- プロトタイプ段階ではアセットの美しさより機能完成を優先

## 🗺️ マップ生成システム

### 能登半島風地形マス
| マス種類 | 特徴 | 敵の侵入ルート | 難易度への影響 |
|--------|------|--------------|-------------|
| 海 | 水面エリア | 海上遡上型のメインルート | 敵が一列で予測しやすい |
| 川 | 水路 | 海からの連続ルート | 敵の速度が上がる |
| 田んぼ道 | 田舶の間の道 | 道路歩行型のメインルート | 規則正しく予測しやすい |
| 能登鉄道 | 線路 | 道路歩行型が高速移動 | 敵が直線で高速 |
| 民家 | 住宅地 | 地下掘削型の出現ポイント | サプライズ攻撃が多い |
| 駅 | 蛸島駅 | 全タイプの敵が集結 | 最高難易度エリア |
| 畑 | 農地 | 空挺降下型の着地ポイント | 開けた場所で回避困難 |

### チクタクバンバン風道路接続
- **マスタイルシステム**: 各マスは上下左右の接続情報を持つ
- **自動接続**: 道路、川、鉄道などが途切れないように生成
- **地形的整合性**: 海から川、川から田んぼ道など自然な流れ
- **ランダム配置**: 毎回異なるマップでリプレイ性向上

## 🌍 マップビュー & 視界システム

### 見下ろし型2Dマップ構造
- **視点**: 主人公の家を中心とした見下ろし型2Dビュー
- **視界範囲**: 円形の視界でかなり幅広い範囲がデフォルトで見える
- **マップ生成**: 正方形で大きめに生成、円形視界の外は黒縁
- **中心家**: プレイヤーの家がマップの中央に固定配置

### 蛸島駅周辺の田舎風景
- **雰囲気**: 都会とは対照的な緑豊かなド田舎
- **スローライフ感**: 都会人が移住したくなる魅力的な景色
- **地形の多様性**: 海、川、田んぼ、畑、能登鉄道の線路が織りなす風景
- **ノスタルジック**: 日本の美しい田舎風景への憧れを刺激

## 🌀 回転システム & 演出エフェクト

### ゆっくり回転システム
- **回転速度**: ものすごくゆっくり（酔酔しない程度）
- **常時回転**: マップ全体が自動的に回転し続ける
- **ランダム方向**: ゲーム開始時に時計回り/反時計回りが決定
- **穏やかな変化**: 時間とともにわずかに速度変化する場合あり

### FF5風演出エフェクト
| エフェクト | 描画方法 | 当たり判定 | 演出的効果 |
|----------|----------|----------|----------|
| 雲の影 | 重ね合わせ描画 | なし | 地面に流れる影で立体感 |
| 鳥の群れ | 重ね合わせ描画 | なし | 空に飛び交う鳥で生命感 |
| 雨/雪 | 重ね合わせ描画 | なし | 天候変化で情緒的な演出 |
| 風に揺れる稂 | 重ね合わせ描画 | なし | 田舎的な穏やかさを表現 |
| 水面のきらめき | 重ね合わせ描画 | なし | 海や川の水の美しさを強調 |

**重要**: すべての演出エフェクトは純粋に視覚的なもので、ゲームプレイに影響しない

### 難易度ガチャ要素
| 要素 | ランダム変動 | 難易度への影響 |
|------|-----------|-------------|
| マップ配置 | 毎回異なる地形組み合わせ | 敵の侵入ルートが変化 |
| 回転方向 | 時計回り/反時計回り | 敵の動きの予測難易度が変化 |
| 回転速度 | 遅い/普通/早い | 回転酔いや視覚的混乱の程度 |
| 敵出現パターン | マップに応じて変化 | 同じマップでも毎回異なる戦略が必要 |

### バズりポイント
- **「今回は簡単/難しいマップだった」話題**
- **回転酔いネタ**: 「目が回る」「酔った」などSNS投稿
- **ガチャ運要素**: 運が良いと簡単マップ、運が悪いと地獄マップ
- **リプレイ性向上**: 毎回異なるゲーム体験で飽きにくい

## 🏆 ランキングシステム & Nostalgic連携

### NostalgicアプリAPI連携
- **スコア登録API**: ゲーム終了時にスコアをNostalgicアプリにPOST
- **ランキング取得API**: ランキング画面でNostalgicアプリからGET
- **ゲーム側実装**: API呼び出しとUI表示のみ、ランキングロジックはNostalgic側で処理
- **ユーザー認証**: Nostalgicアプリで管理、ゲームはトークンを受け取り

### ランキング種別
| ランキング種別 | 詳細 | 期間 |
|------------|------|------|
| 日次ランキング | 毎日の最高スコアで競争 | 24時間リセット |
| 週間ランキング | 今週の最高スコアで競争 | 毎週月曜リセット |
| 全時ランキング | 歴代最高スコアで競争 | リセットなし |
| マップ別ランキング | 特定マップ配置での最高スコア | マップ毎に別管理 |

### ゲーム内UI要素
- **スコア表示**: リアルタイムで現在スコアを表示
- **ランキングボタン**: メインメニューからNostalgicランキングへアクセス
- **スコア登録フロー**: ゲーム終了時に自動でNostalgicに送信
- **オフライン対応**: ネットワークなしでもゲームプレイ可能、スコアは後で同期

## 📈 マーケティング戦略

### バズり要素
- **理不尽で笑える極端さ**: フラッピーバード級の難度 + クソゲー演出
- **動画映え**: 実況者が「なんだこれｗ」と反応する要素
- **チープ vs 豪華のギャップ**: 普段はドット風、忍術発動時だけ超美麗エフェクト
- **対抗心を煽る**: プレイヤーが「俺はできる」と燃える難易度設計
- **回転酔いネタ**: F-ZERO風回転で「酔った」「目が回る」などの話題性

### 収益モデル & 社会貢献
| 目標 | 最適戦略 |
|------|----------|
| とにかく遊ばれたい | Steam + itch.io（無料 or 安価） |
| 収益を最大化したい | Steam + モバイル（広告 or 課金） |
| 話題性・拡散力を狙いたい | itch.io + SNS連携 + YouTuber配信 |

### 能登支援プロジェクト
- **寄付割合**: 利益の50%を能登半島支援に寄付
- **透明性**: 寄付実績を定期的に公開
- **ゲーム内表示**: 「利益の半分は能登に寄付されます」を画面表示
- **社会的意義**: ゲームを楽しみながら地域復興支援に参加

### 参考事例
- **フラッピーバード**: 1日5万ドル収益（無料・広告モデル）
- **アングリーバード**: 数億ドル規模（ゲーム販売+ブランド展開）

### ランダムメモ
- 笑ってしまうほど極端なゲームがバズる
- チープなクソゲーが動画映えする
- 理不尽ゲームが対抗心を煽る
- 日本のJS投稿サイトは無視してOK（収益性・拡散力で劣る）

---

## 💡 壁打ちのコツ
1. **思いついたことはすぐメモ** - 小さなアイデアも記録
2. **定期的に見直し** - 過去のメモから新しい発見
3. **分類は後から** - まずは書くことを優先
4. **完璧を求めない** - ラフなメモでOK
5. **視覚的整理** - 箇条書きや図を活用

## 🔧 開発環境設定

### よく使うコマンド
```bash
# 開発サーバー起動
npm run dev

# テスト実行
npm test

# ビルド（本番用）
npm run build

# リント
npm run lint

# 型チェック
npm run typecheck
```

### プロジェクト構造
```
tacojiman/
├── src/
│   ├── game/          # ゲームロジック
│   ├── entities/      # プレイヤー、敵、エフェクト
│   ├── scenes/        # ゲームシーン
│   ├── utils/         # ユーティリティ
│   └── main.ts        # エントリーポイント
├── assets/
│   ├── images/        # 画像ファイル
│   ├── sounds/        # 音声ファイル
│   └── fonts/         # フォントファイル
├── dist/              # ビルド出力
├── docs/              # 設計書・仕様書
└── CLAUDE.md          # このファイル
```

## ⚔️ 最終ボス戦システム

### タココング出現条件
- **出現タイミング**: ゲーム開始から2分50秒経過時（残り10秒）
- **出現演出**: 画面中央に巨大な影が現れ、威圧的なタココングが登場
- **BGM変化**: この時のみ緊迫感のある音楽が10秒間だけ流れる（オプション）

### タココング（幼馴染搭乗機）の特徴
| 要素 | 仕様 | 戦略的意義 |
|------|------|----------|
| **HP** | 42HP | 42回タップが必要、10秒での連打勝負 |
| **搭乗者** | 幼馴染本人が巨大タコロボに搭乗 | ストーリー的クライマックス、直接対決 |
| **サイズ** | 画面の1/4を占める巨大サイズ | 攻撃範囲内に入りやすいが威圧感も強い |
| **移動速度** | 通常タコの2倍速 | 短時間でプレイヤーの家に到達する脅威 |
| **スコア** | 撃破時10ポイント | 他の敵より高いが極端ではない設定 |
| **色デザイン** | 黒+紫のオーラ、白框で視認性確保 | 他の敵と明確に区別 |

### 雑魚敵全滅の戦略的重要性
- **集中攻撃**: タココング戦時に雑魚敵が残っていると同時処理が困難
- **ボム温存**: 雑魚敵には通常攻撃、タココングにはボム忍術を集中使用
- **時間管理**: 2分50秒までに雑魚敵を効率よく処理する戦略が必要

## 🧨 ボム忍術システム

### ボム発動操作
- **発動方法**: マップ中央のプレイヤーの家をタップ
- **視覚的目印**: 家が光るなどでボム使用可能状態を明示
- **操作の明確化**: 通常攻撃（空いた場所タップ）と発動（家タップ）の差別化

### ボムストック管理システム
- **ストック上限**: 同時に1つのみ所持可能
- **初期ストック**: ゲーム開始時に1発ストック済み
- **自動回復**: 1分ごとに1発自動回復（ゲーム開始から1分、2分時点）
- **計3回使用**: 0分(初期) + 1分 + 2分 = 合計3発
- **戦略的判断**: 温存 vs 即座使用の高度な判断が必要

### ボム種類ランダムシステム
| ボム種類 | 効果 | 演出 | 戦略的用途 |
|---------|------|------|----------|
| **浦恋菊流怒之術（プロトンビーム）** | 画面全体に直線ビーム | ラミエル風の巨神兵的演出 | 一列に並んだ敵の一掃 |
| **埋弟盆流怒之術（マッディボム）** | 地雷設置（事前準備型） | 地面に埋設、後で爆発 | 地下タコの予約破壊 |
| **千鳥臥流怒之術（セントリーガン）** | 自動連射砲台設置 | SF的な固定砲台 | 通り道封鎖、ボス戦で有効 |

### 浦恋菊流怒之術（プロトンビーム）
- **発動演出**: 家から一直線に画面端まで巨大ビーム
- **ため演出**: 発動前2秒間のチャージアップ（巨神兵・ラピュタロボ風）
- **ビーム太さ**: 画面幅の1/5程度の太いビーム
- **ダメージ**: ビーム上の全ての敵に1HPダメージ
- **視覚効果**: 白い光のビームにパーティクルエフェクト

### 埋弟盆流怒之術（マッディボム）
- **設置操作**: 家からドラッグで設置場所を指定
- **設置範囲**: 家から半径3マス以内に限定
- **視覚表示**: 設置後は小さな地雷アイコンで表示
- **発動条件**: 地下掘削型タコが地雷の範囲内に出現した瞬間
- **ダメージ**: 地雷1個につき1HPダメージ（複数設置不可）
- **予約破壊**: 地下タコの出現を予測して事前設置

### 千鳥臥流怒之術（セントリーガン）
- **設置操作**: 家からドラッグで設置場所を指定
- **設置範囲**: 家から半径5マス以内に限定
- **視覚表示**: SF的な小型砲台、回転可能な砲身
- **動作時間**: 設置から5秒間のみ動作
- **攻撃性能**: 0.2秒間隔で自動連射（1発につき1HPダメージ）
- **攻撃範囲**: 砲台中心から半径2マスの円形範囲
- **自動照準**: 範囲内の最も近い敵を自動で狙撃
- **ボス戦有効**: タココング戦で高い効果を発揮
- **戦略的価値**: 2分50秒まで温存してボス戦で使用が最適

### ボム戦略システム
- **種類選択不可**: ランダムなので状況に応じた適応が必要
- **タイミング**: 1分ごとの限られた使用機会
- **プロトン**: 直線上に敵が密集している時に効果的、即効性
- **マッディ**: 地下タコの出現が予想される場所への事前対策
- **セントリー**: ボス戦で最も有効、2分50秒まで温存推奨
- **温存戦略**: セントリーガンが出たら必ず温存してボス戦で使用
- **運要素**: どのボムが出るかで戦略が大きく変わる

### 10秒間の緊迫感演出
- **カウントダウン**: 画面上部に「10...9...8...」の大きなカウントダウン
- **画面効果**: タココング出現時に一瞬画面が暗転
- **緊張感**: プレイヤーがこの10秒に全てを賭ける最終決戦感
- **達成感**: タココング撃破でゲーム終了、大幅スコアボーナス獲得

## 🎬 タイトル画面 & 進捗システム

### 即座ゲーム開始設計
- **タップ即開始**: タイトル画面のどこでもタップすると即座にゲーム開始
- **メニューレス**: スタートボタン、設定メニューなど一切なし
- **最小タップ数**: ゲーム開始までのタップ数を1回に最小化
- **ストレスフリー**: 電車内で瞬時にゲームを開始できる

### サイト誘導システム
- **背景ストーリーボタン**: 画面下部に「ストーリーを読む」小さなボタン
- **外部サイト**: タップでゲーム公式サイトまたはitch.ioページにジャンプ
- **詳細情報**: 設定、世界観、キャラクター詳細などはサイトで提供
- **ゲーム内最小化**: ゲーム内では説明を一切排除

### 10段階進捗システム（野球拳風演出）
| 段階 | 条件 | タイトル背景変化 | 幼馴染の表情・姿 |
|------|------|---------------|-------------|
| Lv.0 | 初期状態 | 真っ暗、シルエットのみ | 完全に影、表情不明 |
| Lv.1 | 1回エンディング到達 | 薄明かり | 目だけかすかに見える |
| Lv.2 | 2回エンディング到達 | 朝の光が差し込む | 目と鼻筋が見える |
| Lv.3 | 3回エンディング到達 | 部屋の輪郭が見える | 口元が少し見える |
| Lv.4 | 4回エンディング到達 | 家具が見え始める | 頬のラインが見える |
| Lv.5 | 5回エンディング到達 | 幼馴染の輪郭がはっきり | 髪型がはっきり見える |
| Lv.6 | 6回エンディング到達 | 服装が見え始める | 眉毛と目の詳細が見える |
| Lv.7 | 7回エンディング到達 | 背景が鮮明に | 鼻と口がはっきり見える |
| Lv.8 | 8回エンディング到達 | 色彩が豊かに | 表情が読み取れる |
| Lv.9 | 9回エンディング到達 | 完全に明るい朝 | 微笑みが見える |
| Lv.10 | 10回エンディング到達 | 特別な朝の光 | 最高の笑顔、完全開示 |

### 段階的進捗ルール
- **1段階ずつ**: どんなに高スコアでも一度に1段階しか進まない
- **継続動機**: 次の段階を見たくてリプレイしたくなる仕組み
- **野球拳効果**: 少しずつ見えていく楽しみでプレイ継続を促進
- **達成感**: 各段階での小さな達成感を積み重ね

### 進捗保存システム
- **ローカルストレージ**: ブラウザのローカルストレージに進捗を保存
- **永続化**: ブラウザを閉じても進捗は保持
- **リセット不可**: 意図的なリセット機能は提供しない
- **デバイス固有**: デバイスごとに個別の進捗管理

## 🎨 画面遷移 & アニメーション演出

### タイトル→ゲーム画面遷移アニメーション
- **遷移時間**: 1.5〜2秒のスムーズな切り替え
- **マップ生成演出**: 背景の各パネル（海、川、田んぼ、道路など）がパラパラと順番に配置
- **配置順序**: 中央（家）→近い順に外側へ放射状に展開
- **配置間隔**: 各パネル50msの間隔でポップイン
- **酔い防止**: 急激な変化を避け、視覚的に優しい遷移

### p5.js風残像エフェクトシステム
| エフェクト種類 | 適用場面 | 演出効果 | 技術仕様 |
|------------|--------|----------|---------|
| **蜂忍術の軌跡** | 攻撃時 | 蜂が飛ぶ軌跡に美しい残像 | 透明度60%→0%で0.3秒フェード |
| **タコロボの移動** | 敵移動時 | 移動軌跡に薄い残像 | 透明度30%→0%で0.2秒フェード |
| **ボム爆発** | ボム使用時 | 爆発の輪が広がる残像 | 透明度80%→0%で0.5秒フェード |
| **ビーム攻撃** | 全体攻撃時 | ビームの軌跡に強い残像 | 透明度90%→0%で0.4秒フェード |
| **カメラズーム** | ズーム操作時 | ズーム中心から放射状残像 | 透明度40%→0%で0.1秒フェード |

### シンプル&滑らか演出方針
- **residual trail（残像軌跡）**: 全ての動的要素に軽い残像を付与
- **easing関数**: イーズイン・アウトで自然な加速度カーブ
- **60fps維持**: 演出による処理負荷を最小限に抑制
- **モーションブラー**: 高速移動時の自然なぼかし効果
- **透明度アニメーション**: フェードイン・アウトを多用した洗練された演出

### 演出の戦略的活用
- **フィードバック強化**: プレイヤーの行動に対する視覚的報酬
- **空間認識補助**: 残像により敵の移動パターンが理解しやすくなる
- **美的価値向上**: シンプルなゲームに洗練された視覚体験を追加
- **差別化要素**: 他の類似ゲームとの視覚的差別化

### マップパネル配置アニメーション詳細
```
配置順序例（中央から外側へ）:
1. プレイヤーの家（中央） - 0ms
2. 家の隣接4パネル - 50ms間隔
3. その外側8パネル - 50ms間隔  
4. さらに外側12パネル - 50ms間隔
...以下放射状に展開
```

### 配置エフェクト仕様
- **ポップイン**: 小さく現れて本来サイズに拡大（0.2秒）
- **回転**: 配置時に軽く回転（15度→0度）
- **透明度**: フェードイン（0%→100%）
- **弾性**: わずかなバウンス効果で配置感を演出

## 💡 開発のコツ
1. **プロトタイプ優先** - まず動くものを作る
2. **早期テスト** - 実況者・友人に早めにプレイしてもらう
3. **データ分析** - プレイ時間・リトライ率を測定
4. **演出調整** - バズり要素は後から調整可能
5. **収益化準備** - 広告SDKの組み込みは早めに